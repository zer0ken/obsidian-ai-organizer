/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => OrganizerPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/components/setting-tab.ts
var import_obsidian2 = require("obsidian");

// src/i18n.ts
var import_obsidian = require("obsidian");

// src/languages/en.json
var en_default = {
  "organizer_plugin.activate_view": "Open Organizer in sidebar",
  "organizer_plugin.leaf_is_null": "Cannot open sidebar",
  "organizer_view.file_selector.title": "Selected File",
  "organizer_view.file_selector.placeholder": "Select a note to reorganize",
  "organizer_view.select_current_note": "Select Current Note",
  "organizer_view.start_organizing": "Reorganize Selected Note",
  "settings.title": "Plugin Settings",
  "settings.model.name": "Model",
  "settings.model.desc": "Enter the Gemini model to use",
  "settings.model.placeholder": "Enter model name",
  "settings.gemini_api_key.name": "Gemini API Key",
  "settings.gemini_api_key.desc": "Enter your Gemini API key",
  "settings.gemini_api_key.placeholder": "Enter key",
  "settings.prompt_template.name": "Prompt Template",
  "settings.prompt_template.desc": "Enter prompt template",
  "settings.prompt_template.placeholder": "Enter prompt"
};

// src/languages/ko.json
var ko_default = {
  "organizer_plugin.activate_view": "\uC0AC\uC774\uB4DC\uBC14\uC5D0\uC11C Organizer \uC5F4\uAE30",
  "organizer_plugin.leaf_is_null": "\uC0AC\uC774\uB4DC\uBC14\uB97C \uC5F4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.",
  "organizer_view.file_selector.title": "\uC120\uD0DD\uB41C \uD30C\uC77C",
  "organizer_view.file_selector.placeholder": "\uC7AC\uAD6C\uC131\uD560 \uB178\uD2B8\uB97C \uC120\uD0DD\uD558\uC138\uC694",
  "organizer_view.select_current_note": "\uD604\uC7AC \uB178\uD2B8 \uC120\uD0DD",
  "organizer_view.start_organizing": "\uC120\uD0DD\uB41C \uB178\uD2B8 \uC7AC\uAD6C\uC131",
  "settings.title": "\uD50C\uB7EC\uADF8\uC778 \uC124\uC815",
  "settings.model.name": "\uBAA8\uB378",
  "settings.model.desc": "\uC0AC\uC6A9\uD560 Gemini \uBAA8\uB378\uC744 \uC785\uB825\uD558\uC138\uC694",
  "settings.model.placeholder": "\uBAA8\uB378 \uC774\uB984 \uC785\uB825",
  "settings.gemini_api_key.name": "Gemini API \uD0A4",
  "settings.gemini_api_key.desc": "Gemini API \uD0A4\uB97C \uC785\uB825\uD558\uC138\uC694",
  "settings.gemini_api_key.placeholder": "\uD0A4 \uC785\uB825",
  "settings.prompt_template.name": "\uD504\uB86C\uD504\uD2B8 \uD15C\uD50C\uB9BF",
  "settings.prompt_template.desc": "\uD504\uB86C\uD504\uD2B8 \uD15C\uD50C\uB9BF\uC744 \uC785\uB825\uD558\uC138\uC694",
  "settings.prompt_template.placeholder": "\uD504\uB86C\uD504\uD2B8 \uC785\uB825"
};

// src/languages/ja.json
var ja_default = {
  "organizer_plugin.activate_view": "\u30B5\u30A4\u30C9\u30D0\u30FC\u3067Organizer\u3092\u958B\u304F",
  "organizer_plugin.leaf_is_null": "\u30B5\u30A4\u30C9\u30D0\u30FC\u3092\u958B\u3051\u307E\u305B\u3093",
  "organizer_view.file_selector.title": "\u9078\u629E\u3055\u308C\u305F\u30D5\u30A1\u30A4\u30EB",
  "organizer_view.file_selector.placeholder": "\u518D\u69CB\u6210\u3059\u308B\u30CE\u30FC\u30C8\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",
  "organizer_view.select_current_note": "\u73FE\u5728\u306E\u30CE\u30FC\u30C8\u3092\u9078\u629E",
  "organizer_view.start_organizing": "\u9078\u629E\u3057\u305F\u30CE\u30FC\u30C8\u3092\u518D\u69CB\u6210",
  "settings.title": "\u30D7\u30E9\u30B0\u30A4\u30F3\u8A2D\u5B9A",
  "settings.model.name": "\u30E2\u30C7\u30EB",
  "settings.model.desc": "\u4F7F\u7528\u3059\u308BGemini\u30E2\u30C7\u30EB\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",
  "settings.model.placeholder": "\u30E2\u30C7\u30EB\u540D\u3092\u5165\u529B",
  "settings.gemini_api_key.name": "Gemini API\u30AD\u30FC",
  "settings.gemini_api_key.desc": "Gemini API\u30AD\u30FC\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",
  "settings.gemini_api_key.placeholder": "\u30AD\u30FC\u3092\u5165\u529B",
  "settings.prompt_template.name": "\u30D7\u30ED\u30F3\u30D7\u30C8\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8",
  "settings.prompt_template.desc": "\u30D7\u30ED\u30F3\u30D7\u30C8\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",
  "settings.prompt_template.placeholder": "\u30D7\u30ED\u30F3\u30D7\u30C8\u3092\u5165\u529B"
};

// src/i18n.ts
var translations = {
  en: en_default,
  ko: ko_default,
  ja: ja_default
};
function t(key) {
  var _a;
  const lang = import_obsidian.moment.locale();
  const translation = ((_a = translations[lang]) == null ? void 0 : _a[key]) || en_default[key] || key;
  return translation;
}

// src/components/setting-tab.ts
var DEFAULT_SETTINGS = {
  model: "gemini-2.0-flash-001",
  geminiApiKey: "",
  promptTemplate: "You are a helpful AI assistant."
};
var OrganizerPluginSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: t("settings.title") });
    new import_obsidian2.Setting(containerEl).setName(t("settings.model.name")).setDesc(t("settings.model.desc")).addText(
      (text) => text.setPlaceholder(t("settings.model.placeholder")).setValue(this.plugin.settings.model).onChange(async (value) => {
        this.plugin.settings.model = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName(t("settings.gemini_api_key.name")).setDesc(t("settings.gemini_api_key.desc")).addText(
      (text) => text.setPlaceholder(t("settings.gemini_api_key.placeholder")).setValue(this.plugin.settings.geminiApiKey).onChange(async (value) => {
        this.plugin.settings.geminiApiKey = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName(t("settings.prompt_template.name")).setDesc(t("settings.prompt_template.desc")).addTextArea(
      (text) => text.setPlaceholder(t("settings.prompt_template.placeholder")).setValue(this.plugin.settings.promptTemplate).onChange(async (value) => {
        this.plugin.settings.promptTemplate = value;
        await this.plugin.saveSettings();
      })
    );
  }
};

// src/components/organizer/organizer-view.ts
var import_obsidian3 = require("obsidian");
var VIEW_TYPE_ORGANIZER = "organizer-view";
var OrganizerView = class extends import_obsidian3.ItemView {
  constructor(leaf) {
    super(leaf);
    this.icon = "sparkles";
    this.vaultEventRefs = [];
  }
  getViewType() {
    return VIEW_TYPE_ORGANIZER;
  }
  getDisplayText() {
    return "Organizer";
  }
  async onOpen() {
    this.containerEl.children[1].addClass("no-padding");
    const container = this.containerEl.children[1];
    container.empty();
    const navHeader = container.createDiv({
      cls: "nav-header"
    });
    const navButtonsContainer = navHeader.createDiv({
      cls: "nav-buttons-container"
    });
    const locateButton = navButtonsContainer.createDiv({
      cls: "clickable-icon nav-action-button"
    });
    (0, import_obsidian3.setIcon)(locateButton, "locate-fixed");
    (0, import_obsidian3.setTooltip)(locateButton, t("organizer_view.select_current_note"));
    locateButton.addEventListener("click", () => {
      this.selectCurrentNote();
    });
    const playButton = navButtonsContainer.createDiv({
      cls: "clickable-icon nav-action-button"
    });
    (0, import_obsidian3.setIcon)(playButton, "play");
    (0, import_obsidian3.setTooltip)(playButton, t("organizer_view.start_organizing"));
    const inputContainer = navHeader.createDiv({
      cls: "file-selection-container"
    });
    const fileSelectDropdown = new import_obsidian3.DropdownComponent(inputContainer);
    this.fileSelectDropdown = fileSelectDropdown;
    fileSelectDropdown.selectEl.style.width = "100%";
    this.updateFileList();
    this.vaultEventRefs.push(
      this.app.vault.on("create", () => this.updateFileList()),
      this.app.vault.on("delete", () => this.updateFileList()),
      this.app.vault.on("rename", () => this.updateFileList())
    );
  }
  async onClose() {
    this.vaultEventRefs.forEach((ref) => this.app.vault.offref(ref));
    this.vaultEventRefs = [];
  }
  updateFileList() {
    if (!this.fileSelectDropdown)
      return;
    const currentValue = this.fileSelectDropdown.getValue();
    this.fileSelectDropdown.selectEl.empty();
    this.fileSelectDropdown.addOption(
      "",
      t("organizer_view.file_selector.placeholder")
    );
    const markdownFiles = this.app.vault.getMarkdownFiles();
    markdownFiles.forEach((file) => {
      var _a;
      (_a = this.fileSelectDropdown) == null ? void 0 : _a.addOption(file.path, file.basename);
    });
    const fileExists = markdownFiles.some(
      (file) => file.path === currentValue
    );
    this.fileSelectDropdown.setValue(fileExists ? currentValue : "");
  }
  selectCurrentNote() {
    var _a;
    const activeFile = this.app.workspace.getActiveFile();
    if (activeFile) {
      (_a = this.fileSelectDropdown) == null ? void 0 : _a.setValue(activeFile.path);
    }
  }
};

// src/main.ts
var OrganizerPlugin = class extends import_obsidian4.Plugin {
  constructor() {
    super(...arguments);
    this.settings = DEFAULT_SETTINGS;
    this.statusBarItem = null;
  }
  async onload() {
    await this.loadSettings();
    this.initStatusBar();
    this.registerView(
      VIEW_TYPE_ORGANIZER,
      (leaf) => new OrganizerView(leaf)
    );
    this.addRibbonIcon(
      "sparkles",
      t("organizer_plugin.activate_view"),
      () => {
        this.activateView();
      }
    );
    this.addSettingTab(new OrganizerPluginSettingTab(this.app, this));
  }
  async onunload() {
    this.app.workspace.detachLeavesOfType(VIEW_TYPE_ORGANIZER);
  }
  async activateView() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_ORGANIZER);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      if (!leaf) {
        new import_obsidian4.Notice(t("organizer_plugin.leaf_is_null"));
        return;
      }
      await leaf.setViewState({
        type: VIEW_TYPE_ORGANIZER,
        active: true
      });
    }
    workspace.revealLeaf(leaf);
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  initStatusBar() {
    const statusBar = this.addStatusBarItem();
    statusBar.addClass(
      "organizer-status",
      "status-bar-item",
      "status-bar-item-icon",
      "mod-clickable"
    );
    (0, import_obsidian4.setIcon)(statusBar, "sparkles");
    (0, import_obsidian4.setTooltip)(statusBar, t("organizer_plugin.activate_view"), {
      placement: "top"
    });
    statusBar.addEventListener("click", () => {
      this.activateView();
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2NvbXBvbmVudHMvc2V0dGluZy10YWIudHMiLCAic3JjL2kxOG4udHMiLCAic3JjL2xhbmd1YWdlcy9lbi5qc29uIiwgInNyYy9sYW5ndWFnZXMva28uanNvbiIsICJzcmMvbGFuZ3VhZ2VzL2phLmpzb24iLCAic3JjL2NvbXBvbmVudHMvb3JnYW5pemVyL29yZ2FuaXplci12aWV3LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBOb3RpY2UsIFBsdWdpbiwgV29ya3NwYWNlTGVhZiwgc2V0SWNvbiwgc2V0VG9vbHRpcCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQge1xyXG5cdE9yZ2FuaXplclBsdWdpblNldHRpbmdUYWIsXHJcblx0T3JnYW5pemVyU2V0dGluZ3MsXHJcblx0REVGQVVMVF9TRVRUSU5HUyxcclxufSBmcm9tIFwic3JjL2NvbXBvbmVudHMvc2V0dGluZy10YWJcIjtcclxuaW1wb3J0IHtcclxuXHRPcmdhbml6ZXJWaWV3LFxyXG5cdFZJRVdfVFlQRV9PUkdBTklaRVIsXHJcbn0gZnJvbSBcInNyYy9jb21wb25lbnRzL29yZ2FuaXplci9vcmdhbml6ZXItdmlld1wiO1xyXG5pbXBvcnQgeyB0IH0gZnJvbSBcInNyYy9pMThuXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmdhbml6ZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBPcmdhbml6ZXJTZXR0aW5ncyA9IERFRkFVTFRfU0VUVElOR1M7XHJcblx0c3RhdHVzQmFySXRlbTogSFRNTFNwYW5FbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0dGhpcy5pbml0U3RhdHVzQmFyKCk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlclZpZXcoXHJcblx0XHRcdFZJRVdfVFlQRV9PUkdBTklaRVIsXHJcblx0XHRcdChsZWFmKSA9PiBuZXcgT3JnYW5pemVyVmlldyhsZWFmKVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLmFkZFJpYmJvbkljb24oXHJcblx0XHRcdFwic3BhcmtsZXNcIixcclxuXHRcdFx0dChcIm9yZ2FuaXplcl9wbHVnaW4uYWN0aXZhdGVfdmlld1wiKSxcclxuXHRcdFx0KCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuYWN0aXZhdGVWaWV3KCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBPcmdhbml6ZXJQbHVnaW5TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbnVubG9hZCgpIHtcclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoVklFV19UWVBFX09SR0FOSVpFUik7XHJcblx0fVxyXG5cclxuXHRhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XHJcblx0XHRjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XHJcblxyXG5cdFx0bGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcclxuXHRcdGNvbnN0IGxlYXZlcyA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX09SR0FOSVpFUik7XHJcblxyXG5cdFx0aWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdGxlYWYgPSBsZWF2ZXNbMF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XHJcblx0XHRcdGlmICghbGVhZikge1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UodChcIm9yZ2FuaXplcl9wbHVnaW4ubGVhZl9pc19udWxsXCIpKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0YXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xyXG5cdFx0XHRcdHR5cGU6IFZJRVdfVFlQRV9PUkdBTklaRVIsXHJcblx0XHRcdFx0YWN0aXZlOiB0cnVlLFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHR3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKFxyXG5cdFx0XHR7fSxcclxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcclxuXHRcdFx0YXdhaXQgdGhpcy5sb2FkRGF0YSgpXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcblxyXG5cdGluaXRTdGF0dXNCYXIoKSB7XHJcblx0XHRjb25zdCBzdGF0dXNCYXIgPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcclxuXHRcdHN0YXR1c0Jhci5hZGRDbGFzcyhcclxuXHRcdFx0XCJvcmdhbml6ZXItc3RhdHVzXCIsXHJcblx0XHRcdFwic3RhdHVzLWJhci1pdGVtXCIsXHJcblx0XHRcdFwic3RhdHVzLWJhci1pdGVtLWljb25cIixcclxuXHRcdFx0XCJtb2QtY2xpY2thYmxlXCJcclxuXHRcdCk7XHJcblx0XHRzZXRJY29uKHN0YXR1c0JhciwgXCJzcGFya2xlc1wiKTtcclxuXHRcdHNldFRvb2x0aXAoc3RhdHVzQmFyLCB0KFwib3JnYW5pemVyX3BsdWdpbi5hY3RpdmF0ZV92aWV3XCIpLCB7XHJcblx0XHRcdHBsYWNlbWVudDogXCJ0b3BcIixcclxuXHRcdH0pO1xyXG5cdFx0c3RhdHVzQmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuYWN0aXZhdGVWaWV3KCk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgT3JnYW5pemVyUGx1Z2luIGZyb20gXCJzcmMvbWFpblwiO1xyXG5pbXBvcnQgeyB0IH0gZnJvbSBcInNyYy9pMThuXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE9yZ2FuaXplclNldHRpbmdzIHtcclxuXHRtb2RlbDogc3RyaW5nO1xyXG5cdGdlbWluaUFwaUtleTogc3RyaW5nO1xyXG5cdHByb21wdFRlbXBsYXRlOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBPcmdhbml6ZXJTZXR0aW5ncyA9IHtcclxuXHRtb2RlbDogXCJnZW1pbmktMi4wLWZsYXNoLTAwMVwiLFxyXG5cdGdlbWluaUFwaUtleTogXCJcIixcclxuXHRwcm9tcHRUZW1wbGF0ZTogXCJZb3UgYXJlIGEgaGVscGZ1bCBBSSBhc3Npc3RhbnQuXCIsXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgT3JnYW5pemVyUGx1Z2luU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogT3JnYW5pemVyUGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBPcmdhbml6ZXJQbHVnaW4pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogdChcInNldHRpbmdzLnRpdGxlXCIpIH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0KFwic2V0dGluZ3MubW9kZWwubmFtZVwiKSlcclxuXHRcdFx0LnNldERlc2ModChcInNldHRpbmdzLm1vZGVsLmRlc2NcIikpXHJcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxyXG5cdFx0XHRcdHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcih0KFwic2V0dGluZ3MubW9kZWwucGxhY2Vob2xkZXJcIikpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWwpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubW9kZWwgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSh0KFwic2V0dGluZ3MuZ2VtaW5pX2FwaV9rZXkubmFtZVwiKSlcclxuXHRcdFx0LnNldERlc2ModChcInNldHRpbmdzLmdlbWluaV9hcGlfa2V5LmRlc2NcIikpXHJcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxyXG5cdFx0XHRcdHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcih0KFwic2V0dGluZ3MuZ2VtaW5pX2FwaV9rZXkucGxhY2Vob2xkZXJcIikpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2VtaW5pQXBpS2V5KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmdlbWluaUFwaUtleSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHQoXCJzZXR0aW5ncy5wcm9tcHRfdGVtcGxhdGUubmFtZVwiKSlcclxuXHRcdFx0LnNldERlc2ModChcInNldHRpbmdzLnByb21wdF90ZW1wbGF0ZS5kZXNjXCIpKVxyXG5cdFx0XHQuYWRkVGV4dEFyZWEoKHRleHQpID0+XHJcblx0XHRcdFx0dGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKHQoXCJzZXR0aW5ncy5wcm9tcHRfdGVtcGxhdGUucGxhY2Vob2xkZXJcIikpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvbXB0VGVtcGxhdGUpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHJvbXB0VGVtcGxhdGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgbW9tZW50IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG5pbXBvcnQgZW4gZnJvbSBcInNyYy9sYW5ndWFnZXMvZW4uanNvblwiO1xyXG5pbXBvcnQga28gZnJvbSBcInNyYy9sYW5ndWFnZXMva28uanNvblwiO1xyXG5pbXBvcnQgamEgZnJvbSBcInNyYy9sYW5ndWFnZXMvamEuanNvblwiO1xyXG5cclxuY29uc3QgdHJhbnNsYXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PiA9IHtcclxuXHRlbjogZW4sXHJcblx0a286IGtvLFxyXG5cdGphOiBqYSxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0KGtleTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRjb25zdCBsYW5nID0gbW9tZW50LmxvY2FsZSgpO1xyXG5cdGNvbnN0IHRyYW5zbGF0aW9uID1cclxuXHRcdHRyYW5zbGF0aW9uc1tsYW5nXT8uW2tleSBhcyBrZXlvZiB0eXBlb2YgZW5dIHx8XHJcblx0XHRlbltrZXkgYXMga2V5b2YgdHlwZW9mIGVuXSB8fFxyXG5cdFx0a2V5O1xyXG5cdHJldHVybiB0cmFuc2xhdGlvbjtcclxufVxyXG4iLCAie1xyXG4gIFwib3JnYW5pemVyX3BsdWdpbi5hY3RpdmF0ZV92aWV3XCI6IFwiT3BlbiBPcmdhbml6ZXIgaW4gc2lkZWJhclwiLFxyXG4gIFwib3JnYW5pemVyX3BsdWdpbi5sZWFmX2lzX251bGxcIjogXCJDYW5ub3Qgb3BlbiBzaWRlYmFyXCIsXHJcbiAgXCJvcmdhbml6ZXJfdmlldy5maWxlX3NlbGVjdG9yLnRpdGxlXCI6IFwiU2VsZWN0ZWQgRmlsZVwiLFxyXG4gIFwib3JnYW5pemVyX3ZpZXcuZmlsZV9zZWxlY3Rvci5wbGFjZWhvbGRlclwiOiBcIlNlbGVjdCBhIG5vdGUgdG8gcmVvcmdhbml6ZVwiLFxyXG4gIFwib3JnYW5pemVyX3ZpZXcuc2VsZWN0X2N1cnJlbnRfbm90ZVwiOiBcIlNlbGVjdCBDdXJyZW50IE5vdGVcIixcclxuICBcIm9yZ2FuaXplcl92aWV3LnN0YXJ0X29yZ2FuaXppbmdcIjogXCJSZW9yZ2FuaXplIFNlbGVjdGVkIE5vdGVcIixcclxuICBcInNldHRpbmdzLnRpdGxlXCI6IFwiUGx1Z2luIFNldHRpbmdzXCIsXHJcbiAgXCJzZXR0aW5ncy5tb2RlbC5uYW1lXCI6IFwiTW9kZWxcIixcclxuICBcInNldHRpbmdzLm1vZGVsLmRlc2NcIjogXCJFbnRlciB0aGUgR2VtaW5pIG1vZGVsIHRvIHVzZVwiLFxyXG4gIFwic2V0dGluZ3MubW9kZWwucGxhY2Vob2xkZXJcIjogXCJFbnRlciBtb2RlbCBuYW1lXCIsXHJcbiAgXCJzZXR0aW5ncy5nZW1pbmlfYXBpX2tleS5uYW1lXCI6IFwiR2VtaW5pIEFQSSBLZXlcIixcclxuICBcInNldHRpbmdzLmdlbWluaV9hcGlfa2V5LmRlc2NcIjogXCJFbnRlciB5b3VyIEdlbWluaSBBUEkga2V5XCIsXHJcbiAgXCJzZXR0aW5ncy5nZW1pbmlfYXBpX2tleS5wbGFjZWhvbGRlclwiOiBcIkVudGVyIGtleVwiLFxyXG4gIFwic2V0dGluZ3MucHJvbXB0X3RlbXBsYXRlLm5hbWVcIjogXCJQcm9tcHQgVGVtcGxhdGVcIixcclxuICBcInNldHRpbmdzLnByb21wdF90ZW1wbGF0ZS5kZXNjXCI6IFwiRW50ZXIgcHJvbXB0IHRlbXBsYXRlXCIsXHJcbiAgXCJzZXR0aW5ncy5wcm9tcHRfdGVtcGxhdGUucGxhY2Vob2xkZXJcIjogXCJFbnRlciBwcm9tcHRcIlxyXG59XHJcbiIsICJ7XHJcbiAgXCJvcmdhbml6ZXJfcGx1Z2luLmFjdGl2YXRlX3ZpZXdcIjogXCJcdUMwQUNcdUM3NzRcdUI0RENcdUJDMTRcdUM1RDBcdUMxMUMgT3JnYW5pemVyIFx1QzVGNFx1QUUzMFwiLFxyXG4gIFwib3JnYW5pemVyX3BsdWdpbi5sZWFmX2lzX251bGxcIjogXCJcdUMwQUNcdUM3NzRcdUI0RENcdUJDMTRcdUI5N0MgXHVDNUY0IFx1QzIxOCBcdUM1QzZcdUMyQjVcdUIyQzhcdUIyRTQuXCIsXHJcbiAgXCJvcmdhbml6ZXJfdmlldy5maWxlX3NlbGVjdG9yLnRpdGxlXCI6IFwiXHVDMTIwXHVEMEREXHVCNDFDIFx1RDMwQ1x1Qzc3Q1wiLFxyXG4gIFwib3JnYW5pemVyX3ZpZXcuZmlsZV9zZWxlY3Rvci5wbGFjZWhvbGRlclwiOiBcIlx1QzdBQ1x1QUQ2Q1x1QzEzMVx1RDU2MCBcdUIxNzhcdUQyQjhcdUI5N0MgXHVDMTIwXHVEMEREXHVENTU4XHVDMTM4XHVDNjk0XCIsXHJcbiAgXCJvcmdhbml6ZXJfdmlldy5zZWxlY3RfY3VycmVudF9ub3RlXCI6IFwiXHVENjA0XHVDN0FDIFx1QjE3OFx1RDJCOCBcdUMxMjBcdUQwRERcIixcclxuICBcIm9yZ2FuaXplcl92aWV3LnN0YXJ0X29yZ2FuaXppbmdcIjogXCJcdUMxMjBcdUQwRERcdUI0MUMgXHVCMTc4XHVEMkI4IFx1QzdBQ1x1QUQ2Q1x1QzEzMVwiLFxyXG4gIFwic2V0dGluZ3MudGl0bGVcIjogXCJcdUQ1MENcdUI3RUNcdUFERjhcdUM3NzggXHVDMTI0XHVDODE1XCIsXHJcbiAgXCJzZXR0aW5ncy5tb2RlbC5uYW1lXCI6IFwiXHVCQUE4XHVCMzc4XCIsXHJcbiAgXCJzZXR0aW5ncy5tb2RlbC5kZXNjXCI6IFwiXHVDMEFDXHVDNkE5XHVENTYwIEdlbWluaSBcdUJBQThcdUIzNzhcdUM3NDQgXHVDNzg1XHVCODI1XHVENTU4XHVDMTM4XHVDNjk0XCIsXHJcbiAgXCJzZXR0aW5ncy5tb2RlbC5wbGFjZWhvbGRlclwiOiBcIlx1QkFBOFx1QjM3OCBcdUM3NzRcdUI5ODQgXHVDNzg1XHVCODI1XCIsXHJcbiAgXCJzZXR0aW5ncy5nZW1pbmlfYXBpX2tleS5uYW1lXCI6IFwiR2VtaW5pIEFQSSBcdUQwQTRcIixcclxuICBcInNldHRpbmdzLmdlbWluaV9hcGlfa2V5LmRlc2NcIjogXCJHZW1pbmkgQVBJIFx1RDBBNFx1Qjk3QyBcdUM3ODVcdUI4MjVcdUQ1NThcdUMxMzhcdUM2OTRcIixcclxuICBcInNldHRpbmdzLmdlbWluaV9hcGlfa2V5LnBsYWNlaG9sZGVyXCI6IFwiXHVEMEE0IFx1Qzc4NVx1QjgyNVwiLFxyXG4gIFwic2V0dGluZ3MucHJvbXB0X3RlbXBsYXRlLm5hbWVcIjogXCJcdUQ1MDRcdUI4NkNcdUQ1MDRcdUQyQjggXHVEMTVDXHVENTBDXHVCOUJGXCIsXHJcbiAgXCJzZXR0aW5ncy5wcm9tcHRfdGVtcGxhdGUuZGVzY1wiOiBcIlx1RDUwNFx1Qjg2Q1x1RDUwNFx1RDJCOCBcdUQxNUNcdUQ1MENcdUI5QkZcdUM3NDQgXHVDNzg1XHVCODI1XHVENTU4XHVDMTM4XHVDNjk0XCIsXHJcbiAgXCJzZXR0aW5ncy5wcm9tcHRfdGVtcGxhdGUucGxhY2Vob2xkZXJcIjogXCJcdUQ1MDRcdUI4NkNcdUQ1MDRcdUQyQjggXHVDNzg1XHVCODI1XCJcclxufVxyXG4iLCAie1xyXG4gIFwib3JnYW5pemVyX3BsdWdpbi5hY3RpdmF0ZV92aWV3XCI6IFwiXHUzMEI1XHUzMEE0XHUzMEM5XHUzMEQwXHUzMEZDXHUzMDY3T3JnYW5pemVyXHUzMDkyXHU5NThCXHUzMDRGXCIsXHJcbiAgXCJvcmdhbml6ZXJfcGx1Z2luLmxlYWZfaXNfbnVsbFwiOiBcIlx1MzBCNVx1MzBBNFx1MzBDOVx1MzBEMFx1MzBGQ1x1MzA5Mlx1OTU4Qlx1MzA1MVx1MzA3RVx1MzA1Qlx1MzA5M1wiLFxyXG4gIFwib3JnYW5pemVyX3ZpZXcuZmlsZV9zZWxlY3Rvci50aXRsZVwiOiBcIlx1OTA3OFx1NjI5RVx1MzA1NVx1MzA4Q1x1MzA1Rlx1MzBENVx1MzBBMVx1MzBBNFx1MzBFQlwiLFxyXG4gIFwib3JnYW5pemVyX3ZpZXcuZmlsZV9zZWxlY3Rvci5wbGFjZWhvbGRlclwiOiBcIlx1NTE4RFx1NjlDQlx1NjIxMFx1MzA1OVx1MzA4Qlx1MzBDRVx1MzBGQ1x1MzBDOFx1MzA5Mlx1OTA3OFx1NjI5RVx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFwiLFxyXG4gIFwib3JnYW5pemVyX3ZpZXcuc2VsZWN0X2N1cnJlbnRfbm90ZVwiOiBcIlx1NzNGRVx1NTcyOFx1MzA2RVx1MzBDRVx1MzBGQ1x1MzBDOFx1MzA5Mlx1OTA3OFx1NjI5RVwiLFxyXG4gIFwib3JnYW5pemVyX3ZpZXcuc3RhcnRfb3JnYW5pemluZ1wiOiBcIlx1OTA3OFx1NjI5RVx1MzA1N1x1MzA1Rlx1MzBDRVx1MzBGQ1x1MzBDOFx1MzA5Mlx1NTE4RFx1NjlDQlx1NjIxMFwiLFxyXG4gIFwic2V0dGluZ3MudGl0bGVcIjogXCJcdTMwRDdcdTMwRTlcdTMwQjBcdTMwQTRcdTMwRjNcdThBMkRcdTVCOUFcIixcclxuICBcInNldHRpbmdzLm1vZGVsLm5hbWVcIjogXCJcdTMwRTJcdTMwQzdcdTMwRUJcIixcclxuICBcInNldHRpbmdzLm1vZGVsLmRlc2NcIjogXCJcdTRGN0ZcdTc1MjhcdTMwNTlcdTMwOEJHZW1pbmlcdTMwRTJcdTMwQzdcdTMwRUJcdTMwOTJcdTUxNjVcdTUyOUJcdTMwNTdcdTMwNjZcdTMwNEZcdTMwNjBcdTMwNTVcdTMwNDRcIixcclxuICBcInNldHRpbmdzLm1vZGVsLnBsYWNlaG9sZGVyXCI6IFwiXHUzMEUyXHUzMEM3XHUzMEVCXHU1NDBEXHUzMDkyXHU1MTY1XHU1MjlCXCIsXHJcbiAgXCJzZXR0aW5ncy5nZW1pbmlfYXBpX2tleS5uYW1lXCI6IFwiR2VtaW5pIEFQSVx1MzBBRFx1MzBGQ1wiLFxyXG4gIFwic2V0dGluZ3MuZ2VtaW5pX2FwaV9rZXkuZGVzY1wiOiBcIkdlbWluaSBBUElcdTMwQURcdTMwRkNcdTMwOTJcdTUxNjVcdTUyOUJcdTMwNTdcdTMwNjZcdTMwNEZcdTMwNjBcdTMwNTVcdTMwNDRcIixcclxuICBcInNldHRpbmdzLmdlbWluaV9hcGlfa2V5LnBsYWNlaG9sZGVyXCI6IFwiXHUzMEFEXHUzMEZDXHUzMDkyXHU1MTY1XHU1MjlCXCIsXHJcbiAgXCJzZXR0aW5ncy5wcm9tcHRfdGVtcGxhdGUubmFtZVwiOiBcIlx1MzBEN1x1MzBFRFx1MzBGM1x1MzBEN1x1MzBDOFx1MzBDNlx1MzBGM1x1MzBEN1x1MzBFQ1x1MzBGQ1x1MzBDOFwiLFxyXG4gIFwic2V0dGluZ3MucHJvbXB0X3RlbXBsYXRlLmRlc2NcIjogXCJcdTMwRDdcdTMwRURcdTMwRjNcdTMwRDdcdTMwQzhcdTMwQzZcdTMwRjNcdTMwRDdcdTMwRUNcdTMwRkNcdTMwQzhcdTMwOTJcdTUxNjVcdTUyOUJcdTMwNTdcdTMwNjZcdTMwNEZcdTMwNjBcdTMwNTVcdTMwNDRcIixcclxuICBcInNldHRpbmdzLnByb21wdF90ZW1wbGF0ZS5wbGFjZWhvbGRlclwiOiBcIlx1MzBEN1x1MzBFRFx1MzBGM1x1MzBEN1x1MzBDOFx1MzA5Mlx1NTE2NVx1NTI5QlwiXHJcbn1cclxuIiwgImltcG9ydCB7XHJcblx0SXRlbVZpZXcsXHJcblx0V29ya3NwYWNlTGVhZixcclxuXHREcm9wZG93bkNvbXBvbmVudCxcclxuXHRzZXRJY29uLFxyXG5cdHNldFRvb2x0aXAsXHJcblx0RXZlbnRSZWYsXHJcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IHQgfSBmcm9tIFwic3JjL2kxOG5cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfT1JHQU5JWkVSID0gXCJvcmdhbml6ZXItdmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9yZ2FuaXplclZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XHJcblx0aWNvbiA9IFwic3BhcmtsZXNcIjtcclxuXHRmaWxlU2VsZWN0RHJvcGRvd246IERyb3Bkb3duQ29tcG9uZW50IHwgdW5kZWZpbmVkO1xyXG5cdHZhdWx0RXZlbnRSZWZzOiBFdmVudFJlZltdID0gW107XHJcblxyXG5cdGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYpIHtcclxuXHRcdHN1cGVyKGxlYWYpO1xyXG5cdH1cclxuXHJcblx0Z2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBWSUVXX1RZUEVfT1JHQU5JWkVSO1xyXG5cdH1cclxuXHJcblx0Z2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBcIk9yZ2FuaXplclwiO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb25PcGVuKCkge1xyXG5cdFx0dGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXS5hZGRDbGFzcyhcIm5vLXBhZGRpbmdcIik7XHJcblx0XHRjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xyXG5cdFx0Y29udGFpbmVyLmVtcHR5KCk7XHJcblxyXG5cdFx0Y29uc3QgbmF2SGVhZGVyID0gY29udGFpbmVyLmNyZWF0ZURpdih7XHJcblx0XHRcdGNsczogXCJuYXYtaGVhZGVyXCIsXHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBuYXZCdXR0b25zQ29udGFpbmVyID0gbmF2SGVhZGVyLmNyZWF0ZURpdih7XHJcblx0XHRcdGNsczogXCJuYXYtYnV0dG9ucy1jb250YWluZXJcIixcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IGxvY2F0ZUJ1dHRvbiA9IG5hdkJ1dHRvbnNDb250YWluZXIuY3JlYXRlRGl2KHtcclxuXHRcdFx0Y2xzOiBcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIsXHJcblx0XHR9KTtcclxuXHRcdHNldEljb24obG9jYXRlQnV0dG9uLCBcImxvY2F0ZS1maXhlZFwiKTtcclxuXHRcdHNldFRvb2x0aXAobG9jYXRlQnV0dG9uLCB0KFwib3JnYW5pemVyX3ZpZXcuc2VsZWN0X2N1cnJlbnRfbm90ZVwiKSk7XHJcblx0XHRsb2NhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0dGhpcy5zZWxlY3RDdXJyZW50Tm90ZSgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgcGxheUJ1dHRvbiA9IG5hdkJ1dHRvbnNDb250YWluZXIuY3JlYXRlRGl2KHtcclxuXHRcdFx0Y2xzOiBcImNsaWNrYWJsZS1pY29uIG5hdi1hY3Rpb24tYnV0dG9uXCIsXHJcblx0XHR9KTtcclxuXHRcdHNldEljb24ocGxheUJ1dHRvbiwgXCJwbGF5XCIpO1xyXG5cdFx0c2V0VG9vbHRpcChwbGF5QnV0dG9uLCB0KFwib3JnYW5pemVyX3ZpZXcuc3RhcnRfb3JnYW5pemluZ1wiKSk7XHJcblxyXG5cdFx0Y29uc3QgaW5wdXRDb250YWluZXIgPSBuYXZIZWFkZXIuY3JlYXRlRGl2KHtcclxuXHRcdFx0Y2xzOiBcImZpbGUtc2VsZWN0aW9uLWNvbnRhaW5lclwiLFxyXG5cdFx0fSk7XHJcblx0XHRjb25zdCBmaWxlU2VsZWN0RHJvcGRvd24gPSBuZXcgRHJvcGRvd25Db21wb25lbnQoaW5wdXRDb250YWluZXIpO1xyXG5cdFx0dGhpcy5maWxlU2VsZWN0RHJvcGRvd24gPSBmaWxlU2VsZWN0RHJvcGRvd247XHJcblx0XHRmaWxlU2VsZWN0RHJvcGRvd24uc2VsZWN0RWwuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcclxuXHJcblx0XHR0aGlzLnVwZGF0ZUZpbGVMaXN0KCk7XHJcblxyXG5cdFx0Ly8gXHVCQ0ZDXHVEMkI4IFx1Qzc3NFx1QkNBNFx1RDJCOCBcdUI0RjFcdUI4NURcclxuXHRcdHRoaXMudmF1bHRFdmVudFJlZnMucHVzaChcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oXCJjcmVhdGVcIiwgKCkgPT4gdGhpcy51cGRhdGVGaWxlTGlzdCgpKSxcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oXCJkZWxldGVcIiwgKCkgPT4gdGhpcy51cGRhdGVGaWxlTGlzdCgpKSxcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oXCJyZW5hbWVcIiwgKCkgPT4gdGhpcy51cGRhdGVGaWxlTGlzdCgpKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9uQ2xvc2UoKSB7XHJcblx0XHQvLyBcdUM3NzRcdUJDQTRcdUQyQjggXHVDODE1XHVCOUFDXHJcblx0XHR0aGlzLnZhdWx0RXZlbnRSZWZzLmZvckVhY2goKHJlZikgPT4gdGhpcy5hcHAudmF1bHQub2ZmcmVmKHJlZikpO1xyXG5cdFx0dGhpcy52YXVsdEV2ZW50UmVmcyA9IFtdO1xyXG5cdH1cclxuXHJcblx0dXBkYXRlRmlsZUxpc3QoKSB7XHJcblx0XHRpZiAoIXRoaXMuZmlsZVNlbGVjdERyb3Bkb3duKSByZXR1cm47XHJcblxyXG5cdFx0Ly8gXHVENjA0XHVDN0FDIFx1QzEyMFx1RDBERFx1QjQxQyBcdUQzMENcdUM3N0MgXHVBQ0JEXHVCODVDIFx1QzgwMFx1QzdBNVxyXG5cdFx0Y29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5maWxlU2VsZWN0RHJvcGRvd24uZ2V0VmFsdWUoKTtcclxuXHJcblx0XHQvLyBcdUI0RENcdUI4NkRcdUIyRTRcdUM2QjQgXHVDRDA4XHVBRTMwXHVENjU0XHJcblx0XHR0aGlzLmZpbGVTZWxlY3REcm9wZG93bi5zZWxlY3RFbC5lbXB0eSgpO1xyXG5cclxuXHRcdC8vIHBsYWNlaG9sZGVyIFx1Q0Q5NFx1QUMwMFxyXG5cdFx0dGhpcy5maWxlU2VsZWN0RHJvcGRvd24uYWRkT3B0aW9uKFxyXG5cdFx0XHRcIlwiLFxyXG5cdFx0XHR0KFwib3JnYW5pemVyX3ZpZXcuZmlsZV9zZWxlY3Rvci5wbGFjZWhvbGRlclwiKVxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBcdUQzMENcdUM3N0MgXHVCQUE5XHVCODVEIFx1Q0Q5NFx1QUMwMFxyXG5cdFx0Y29uc3QgbWFya2Rvd25GaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHRcdG1hcmtkb3duRmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4ge1xyXG5cdFx0XHR0aGlzLmZpbGVTZWxlY3REcm9wZG93bj8uYWRkT3B0aW9uKGZpbGUucGF0aCwgZmlsZS5iYXNlbmFtZSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBcdUM3NzRcdUM4MDRcdUM1RDAgXHVDMTIwXHVEMEREXHVCNDFDIFx1RDMwQ1x1Qzc3Q1x1Qzc3NCBcdUM1RUNcdUM4MDRcdUQ3ODggXHVDODc0XHVDN0FDXHVENTU4XHVCMjk0XHVDOUMwIFx1RDY1NVx1Qzc3OFxyXG5cdFx0Y29uc3QgZmlsZUV4aXN0cyA9IG1hcmtkb3duRmlsZXMuc29tZShcclxuXHRcdFx0KGZpbGUpID0+IGZpbGUucGF0aCA9PT0gY3VycmVudFZhbHVlXHJcblx0XHQpO1xyXG5cclxuXHRcdC8vIFx1RDMwQ1x1Qzc3Q1x1Qzc3NCBcdUM4NzRcdUM3QUNcdUQ1NThcdUJBNzQgXHVDNzc0XHVDODA0IFx1QzEyMFx1RDBERCBcdUM3MjBcdUM5QzAsIFx1QzU0NFx1QjJDOFx1QkE3NCBwbGFjZWhvbGRlciBcdUMxMjBcdUQwRERcclxuXHRcdHRoaXMuZmlsZVNlbGVjdERyb3Bkb3duLnNldFZhbHVlKGZpbGVFeGlzdHMgPyBjdXJyZW50VmFsdWUgOiBcIlwiKTtcclxuXHR9XHJcblxyXG5cdHNlbGVjdEN1cnJlbnROb3RlKCkge1xyXG5cdFx0Y29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0XHRpZiAoYWN0aXZlRmlsZSkge1xyXG5cdFx0XHR0aGlzLmZpbGVTZWxlY3REcm9wZG93bj8uc2V0VmFsdWUoYWN0aXZlRmlsZS5wYXRoKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBbUU7OztBQ0FuRSxJQUFBQyxtQkFBK0M7OztBQ0EvQyxzQkFBdUI7OztBQ0F2QjtBQUFBLEVBQ0Usa0NBQWtDO0FBQUEsRUFDbEMsaUNBQWlDO0FBQUEsRUFDakMsc0NBQXNDO0FBQUEsRUFDdEMsNENBQTRDO0FBQUEsRUFDNUMsc0NBQXNDO0FBQUEsRUFDdEMsbUNBQW1DO0FBQUEsRUFDbkMsa0JBQWtCO0FBQUEsRUFDbEIsdUJBQXVCO0FBQUEsRUFDdkIsdUJBQXVCO0FBQUEsRUFDdkIsOEJBQThCO0FBQUEsRUFDOUIsZ0NBQWdDO0FBQUEsRUFDaEMsZ0NBQWdDO0FBQUEsRUFDaEMsdUNBQXVDO0FBQUEsRUFDdkMsaUNBQWlDO0FBQUEsRUFDakMsaUNBQWlDO0FBQUEsRUFDakMsd0NBQXdDO0FBQzFDOzs7QUNqQkE7QUFBQSxFQUNFLGtDQUFrQztBQUFBLEVBQ2xDLGlDQUFpQztBQUFBLEVBQ2pDLHNDQUFzQztBQUFBLEVBQ3RDLDRDQUE0QztBQUFBLEVBQzVDLHNDQUFzQztBQUFBLEVBQ3RDLG1DQUFtQztBQUFBLEVBQ25DLGtCQUFrQjtBQUFBLEVBQ2xCLHVCQUF1QjtBQUFBLEVBQ3ZCLHVCQUF1QjtBQUFBLEVBQ3ZCLDhCQUE4QjtBQUFBLEVBQzlCLGdDQUFnQztBQUFBLEVBQ2hDLGdDQUFnQztBQUFBLEVBQ2hDLHVDQUF1QztBQUFBLEVBQ3ZDLGlDQUFpQztBQUFBLEVBQ2pDLGlDQUFpQztBQUFBLEVBQ2pDLHdDQUF3QztBQUMxQzs7O0FDakJBO0FBQUEsRUFDRSxrQ0FBa0M7QUFBQSxFQUNsQyxpQ0FBaUM7QUFBQSxFQUNqQyxzQ0FBc0M7QUFBQSxFQUN0Qyw0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
