/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => OrganizerPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/setting-tab.ts
var import_obsidian2 = require("obsidian");

// src/i18n.ts
var import_obsidian = require("obsidian");

// src/languages/en.json
var en_default = {
  "organizer_plugin.activate_view": "Open Organizer in sidebar",
  "organizer_plugin.leaf_is_null": "Cannot open sidebar",
  "organizer_view.file_selector.title": "Selected File",
  "organizer_view.file_selector.placeholder": "Select a note to reorganize",
  "organizer_view.select_current_note": "Select Current Note",
  "organizer_view.start_organizing": "Reorganize Selected Note",
  "settings.title": "Plugin Settings",
  "settings.model.name": "Model",
  "settings.model.desc": "Enter the Gemini model to use",
  "settings.model.placeholder": "Enter model name",
  "settings.gemini_api_key.name": "Gemini API Key",
  "settings.gemini_api_key.desc": "Enter your Gemini API key",
  "settings.gemini_api_key.placeholder": "Enter key",
  "settings.prompt_template.name": "Prompt Template",
  "settings.prompt_template.desc": "Enter prompt template",
  "settings.prompt_template.placeholder": "Enter prompt"
};

// src/languages/ko.json
var ko_default = {
  "organizer_plugin.activate_view": "\uC0AC\uC774\uB4DC\uBC14\uC5D0\uC11C Organizer \uC5F4\uAE30",
  "organizer_plugin.leaf_is_null": "\uC0AC\uC774\uB4DC\uBC14\uB97C \uC5F4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.",
  "organizer_view.file_selector.title": "\uC120\uD0DD\uB41C \uD30C\uC77C",
  "organizer_view.file_selector.placeholder": "\uC7AC\uAD6C\uC131\uD560 \uB178\uD2B8\uB97C \uC120\uD0DD\uD558\uC138\uC694",
  "organizer_view.select_current_note": "\uD604\uC7AC \uB178\uD2B8 \uC120\uD0DD",
  "organizer_view.start_organizing": "\uC120\uD0DD\uB41C \uB178\uD2B8 \uC7AC\uAD6C\uC131",
  "settings.title": "\uD50C\uB7EC\uADF8\uC778 \uC124\uC815",
  "settings.model.name": "\uBAA8\uB378",
  "settings.model.desc": "\uC0AC\uC6A9\uD560 Gemini \uBAA8\uB378\uC744 \uC785\uB825\uD558\uC138\uC694",
  "settings.model.placeholder": "\uBAA8\uB378 \uC774\uB984 \uC785\uB825",
  "settings.gemini_api_key.name": "Gemini API \uD0A4",
  "settings.gemini_api_key.desc": "Gemini API \uD0A4\uB97C \uC785\uB825\uD558\uC138\uC694",
  "settings.gemini_api_key.placeholder": "\uD0A4 \uC785\uB825",
  "settings.prompt_template.name": "\uD504\uB86C\uD504\uD2B8 \uD15C\uD50C\uB9BF",
  "settings.prompt_template.desc": "\uD504\uB86C\uD504\uD2B8 \uD15C\uD50C\uB9BF\uC744 \uC785\uB825\uD558\uC138\uC694",
  "settings.prompt_template.placeholder": "\uD504\uB86C\uD504\uD2B8 \uC785\uB825"
};

// src/languages/ja.json
var ja_default = {
  "organizer_plugin.activate_view": "\u30B5\u30A4\u30C9\u30D0\u30FC\u3067Organizer\u3092\u958B\u304F",
  "organizer_plugin.leaf_is_null": "\u30B5\u30A4\u30C9\u30D0\u30FC\u3092\u958B\u3051\u307E\u305B\u3093",
  "organizer_view.file_selector.title": "\u9078\u629E\u3055\u308C\u305F\u30D5\u30A1\u30A4\u30EB",
  "organizer_view.file_selector.placeholder": "\u518D\u69CB\u6210\u3059\u308B\u30CE\u30FC\u30C8\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",
  "organizer_view.select_current_note": "\u73FE\u5728\u306E\u30CE\u30FC\u30C8\u3092\u9078\u629E",
  "organizer_view.start_organizing": "\u9078\u629E\u3057\u305F\u30CE\u30FC\u30C8\u3092\u518D\u69CB\u6210",
  "settings.title": "\u30D7\u30E9\u30B0\u30A4\u30F3\u8A2D\u5B9A",
  "settings.model.name": "\u30E2\u30C7\u30EB",
  "settings.model.desc": "\u4F7F\u7528\u3059\u308BGemini\u30E2\u30C7\u30EB\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",
  "settings.model.placeholder": "\u30E2\u30C7\u30EB\u540D\u3092\u5165\u529B",
  "settings.gemini_api_key.name": "Gemini API\u30AD\u30FC",
  "settings.gemini_api_key.desc": "Gemini API\u30AD\u30FC\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",
  "settings.gemini_api_key.placeholder": "\u30AD\u30FC\u3092\u5165\u529B",
  "settings.prompt_template.name": "\u30D7\u30ED\u30F3\u30D7\u30C8\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8",
  "settings.prompt_template.desc": "\u30D7\u30ED\u30F3\u30D7\u30C8\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",
  "settings.prompt_template.placeholder": "\u30D7\u30ED\u30F3\u30D7\u30C8\u3092\u5165\u529B"
};

// src/i18n.ts
var translations = {
  en: en_default,
  ko: ko_default,
  ja: ja_default
};
function t(key) {
  var _a;
  const lang = import_obsidian.moment.locale();
  const translation = ((_a = translations[lang]) == null ? void 0 : _a[key]) || en_default[key] || key;
  return translation;
}

// src/setting-tab.ts
var DEFAULT_SETTINGS = {
  model: "gemini-2.0-flash-001",
  geminiApiKey: "",
  promptTemplate: "You are a helpful AI assistant."
};
var OrganizerPluginSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: t("settings.title") });
    new import_obsidian2.Setting(containerEl).setName(t("settings.model.name")).setDesc(t("settings.model.desc")).addText(
      (text) => text.setPlaceholder(t("settings.model.placeholder")).setValue(this.plugin.settings.model).onChange(async (value) => {
        this.plugin.settings.model = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName(t("settings.gemini_api_key.name")).setDesc(t("settings.gemini_api_key.desc")).addText(
      (text) => text.setPlaceholder(t("settings.gemini_api_key.placeholder")).setValue(this.plugin.settings.geminiApiKey).onChange(async (value) => {
        this.plugin.settings.geminiApiKey = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName(t("settings.prompt_template.name")).setDesc(t("settings.prompt_template.desc")).addTextArea(
      (text) => text.setPlaceholder(t("settings.prompt_template.placeholder")).setValue(this.plugin.settings.promptTemplate).onChange(async (value) => {
        this.plugin.settings.promptTemplate = value;
        await this.plugin.saveSettings();
      })
    );
  }
};

// src/organizer-view.ts
var import_obsidian3 = require("obsidian");
var VIEW_TYPE_ORGANIZER = "organizer-view";
var OrganizerView = class extends import_obsidian3.ItemView {
  constructor(leaf) {
    super(leaf);
    this.icon = "sparkles";
    this.vaultEventRefs = [];
  }
  getViewType() {
    return VIEW_TYPE_ORGANIZER;
  }
  getDisplayText() {
    return "Organizer";
  }
  async onOpen() {
    this.containerEl.children[1].addClass("no-padding");
    const container = this.containerEl.children[1];
    container.empty();
    const navHeader = container.createDiv({
      cls: "nav-header"
    });
    const navButtonsContainer = navHeader.createDiv({
      cls: "nav-buttons-container"
    });
    const locateButton = navButtonsContainer.createDiv({
      cls: "clickable-icon nav-action-button"
    });
    (0, import_obsidian3.setIcon)(locateButton, "locate-fixed");
    (0, import_obsidian3.setTooltip)(locateButton, t("organizer_view.select_current_note"));
    locateButton.addEventListener("click", () => {
      this.selectCurrentNote();
    });
    const playButton = navButtonsContainer.createDiv({
      cls: "clickable-icon nav-action-button"
    });
    (0, import_obsidian3.setIcon)(playButton, "play");
    (0, import_obsidian3.setTooltip)(playButton, t("organizer_view.start_organizing"));
    const inputContainer = navHeader.createDiv({
      cls: "file-selection-container"
    });
    const fileSelectDropdown = new import_obsidian3.DropdownComponent(inputContainer);
    this.fileSelectDropdown = fileSelectDropdown;
    fileSelectDropdown.selectEl.style.width = "100%";
    this.updateFileList();
    this.vaultEventRefs.push(
      this.app.vault.on("create", () => this.updateFileList()),
      this.app.vault.on("delete", () => this.updateFileList()),
      this.app.vault.on("rename", () => this.updateFileList())
    );
  }
  async onClose() {
    this.vaultEventRefs.forEach((ref) => this.app.vault.offref(ref));
    this.vaultEventRefs = [];
  }
  updateFileList() {
    if (!this.fileSelectDropdown)
      return;
    const currentValue = this.fileSelectDropdown.getValue();
    this.fileSelectDropdown.selectEl.empty();
    this.fileSelectDropdown.addOption(
      "",
      t("organizer_view.file_selector.placeholder")
    );
    const markdownFiles = this.app.vault.getMarkdownFiles();
    markdownFiles.forEach((file) => {
      var _a;
      (_a = this.fileSelectDropdown) == null ? void 0 : _a.addOption(file.path, file.basename);
    });
    const fileExists = markdownFiles.some(
      (file) => file.path === currentValue
    );
    this.fileSelectDropdown.setValue(fileExists ? currentValue : "");
  }
  selectCurrentNote() {
    var _a;
    const activeFile = this.app.workspace.getActiveFile();
    if (activeFile) {
      (_a = this.fileSelectDropdown) == null ? void 0 : _a.setValue(activeFile.path);
    }
  }
};

// src/main.ts
var OrganizerPlugin = class extends import_obsidian4.Plugin {
  constructor() {
    super(...arguments);
    this.settings = DEFAULT_SETTINGS;
    this.statusBarItem = null;
  }
  async onload() {
    await this.loadSettings();
    this.initStatusBar();
    this.registerView(
      VIEW_TYPE_ORGANIZER,
      (leaf) => new OrganizerView(leaf)
    );
    this.addRibbonIcon(
      "sparkles",
      t("organizer_plugin.activate_view"),
      () => {
        this.activateView();
      }
    );
    this.addSettingTab(new OrganizerPluginSettingTab(this.app, this));
  }
  async onunload() {
    this.app.workspace.detachLeavesOfType(VIEW_TYPE_ORGANIZER);
  }
  async activateView() {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_ORGANIZER);
    if (leaves.length > 0) {
      leaf = leaves[0];
    } else {
      leaf = workspace.getRightLeaf(false);
      if (!leaf) {
        new import_obsidian4.Notice(t("organizer_plugin.leaf_is_null"));
        return;
      }
      await leaf.setViewState({
        type: VIEW_TYPE_ORGANIZER,
        active: true
      });
    }
    workspace.revealLeaf(leaf);
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  initStatusBar() {
    const statusBar = this.addStatusBarItem();
    statusBar.addClass(
      "organizer-status",
      "status-bar-item",
      "status-bar-item-icon",
      "mod-clickable"
    );
    (0, import_obsidian4.setIcon)(statusBar, "sparkles");
    (0, import_obsidian4.setTooltip)(statusBar, t("organizer_plugin.activate_view"), {
      placement: "top"
    });
    statusBar.addEventListener("click", () => {
      this.activateView();
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL21haW4udHMiLCAiLi4vc3JjL3NldHRpbmctdGFiLnRzIiwgIi4uL3NyYy9pMThuLnRzIiwgIi4uL3NyYy9sYW5ndWFnZXMvZW4uanNvbiIsICIuLi9zcmMvbGFuZ3VhZ2VzL2tvLmpzb24iLCAiLi4vc3JjL2xhbmd1YWdlcy9qYS5qc29uIiwgIi4uL3NyYy9vcmdhbml6ZXItdmlldy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgTm90aWNlLCBQbHVnaW4sIFdvcmtzcGFjZUxlYWYsIHNldEljb24sIHNldFRvb2x0aXAgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHtcclxuXHRPcmdhbml6ZXJQbHVnaW5TZXR0aW5nVGFiLFxyXG5cdE9yZ2FuaXplclNldHRpbmdzLFxyXG5cdERFRkFVTFRfU0VUVElOR1MsXHJcbn0gZnJvbSBcInNyYy9zZXR0aW5nLXRhYlwiO1xyXG5pbXBvcnQge1xyXG5cdE9yZ2FuaXplclZpZXcsXHJcblx0VklFV19UWVBFX09SR0FOSVpFUixcclxufSBmcm9tIFwic3JjL29yZ2FuaXplci12aWV3XCI7XHJcbmltcG9ydCB7IHQgfSBmcm9tIFwic3JjL2kxOG5cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZ2FuaXplclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IE9yZ2FuaXplclNldHRpbmdzID0gREVGQVVMVF9TRVRUSU5HUztcclxuXHRzdGF0dXNCYXJJdGVtOiBIVE1MU3BhbkVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHJcblx0XHR0aGlzLmluaXRTdGF0dXNCYXIoKTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcclxuXHRcdFx0VklFV19UWVBFX09SR0FOSVpFUixcclxuXHRcdFx0KGxlYWYpID0+IG5ldyBPcmdhbml6ZXJWaWV3KGxlYWYpXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMuYWRkUmliYm9uSWNvbihcclxuXHRcdFx0XCJzcGFya2xlc1wiLFxyXG5cdFx0XHR0KFwib3JnYW5pemVyX3BsdWdpbi5hY3RpdmF0ZV92aWV3XCIpLFxyXG5cdFx0XHQoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoKTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IE9yZ2FuaXplclBsdWdpblNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9udW5sb2FkKCkge1xyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLmRldGFjaExlYXZlc09mVHlwZShWSUVXX1RZUEVfT1JHQU5JWkVSKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGFjdGl2YXRlVmlldygpIHtcclxuXHRcdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcclxuXHJcblx0XHRsZXQgbGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwgPSBudWxsO1xyXG5cdFx0Y29uc3QgbGVhdmVzID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfT1JHQU5JWkVSKTtcclxuXHJcblx0XHRpZiAobGVhdmVzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0bGVhZiA9IGxlYXZlc1swXTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxlYWYgPSB3b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcclxuXHRcdFx0aWYgKCFsZWFmKSB7XHJcblx0XHRcdFx0bmV3IE5vdGljZSh0KFwib3JnYW5pemVyX3BsdWdpbi5sZWFmX2lzX251bGxcIikpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XHJcblx0XHRcdFx0dHlwZTogVklFV19UWVBFX09SR0FOSVpFUixcclxuXHRcdFx0XHRhY3RpdmU6IHRydWUsXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHdvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oXHJcblx0XHRcdHt9LFxyXG5cdFx0XHRERUZBVUxUX1NFVFRJTkdTLFxyXG5cdFx0XHRhd2FpdCB0aGlzLmxvYWREYXRhKClcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0aW5pdFN0YXR1c0JhcigpIHtcclxuXHRcdGNvbnN0IHN0YXR1c0JhciA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xyXG5cdFx0c3RhdHVzQmFyLmFkZENsYXNzKFxyXG5cdFx0XHRcIm9yZ2FuaXplci1zdGF0dXNcIixcclxuXHRcdFx0XCJzdGF0dXMtYmFyLWl0ZW1cIixcclxuXHRcdFx0XCJzdGF0dXMtYmFyLWl0ZW0taWNvblwiLFxyXG5cdFx0XHRcIm1vZC1jbGlja2FibGVcIlxyXG5cdFx0KTtcclxuXHRcdHNldEljb24oc3RhdHVzQmFyLCBcInNwYXJrbGVzXCIpO1xyXG5cdFx0c2V0VG9vbHRpcChzdGF0dXNCYXIsIHQoXCJvcmdhbml6ZXJfcGx1Z2luLmFjdGl2YXRlX3ZpZXdcIiksIHtcclxuXHRcdFx0cGxhY2VtZW50OiBcInRvcFwiLFxyXG5cdFx0fSk7XHJcblx0XHRzdGF0dXNCYXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCBPcmdhbml6ZXJQbHVnaW4gZnJvbSBcInNyYy9tYWluXCI7XHJcbmltcG9ydCB7IHQgfSBmcm9tIFwic3JjL2kxOG5cIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgT3JnYW5pemVyU2V0dGluZ3Mge1xyXG5cdG1vZGVsOiBzdHJpbmc7XHJcblx0Z2VtaW5pQXBpS2V5OiBzdHJpbmc7XHJcblx0cHJvbXB0VGVtcGxhdGU6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE9yZ2FuaXplclNldHRpbmdzID0ge1xyXG5cdG1vZGVsOiBcImdlbWluaS0yLjAtZmxhc2gtMDAxXCIsXHJcblx0Z2VtaW5pQXBpS2V5OiBcIlwiLFxyXG5cdHByb21wdFRlbXBsYXRlOiBcIllvdSBhcmUgYSBoZWxwZnVsIEFJIGFzc2lzdGFudC5cIixcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBPcmdhbml6ZXJQbHVnaW5TZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBPcmdhbml6ZXJQbHVnaW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE9yZ2FuaXplclBsdWdpbikge1xyXG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiB0KFwic2V0dGluZ3MudGl0bGVcIikgfSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHQoXCJzZXR0aW5ncy5tb2RlbC5uYW1lXCIpKVxyXG5cdFx0XHQuc2V0RGVzYyh0KFwic2V0dGluZ3MubW9kZWwuZGVzY1wiKSlcclxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XHJcblx0XHRcdFx0dGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKHQoXCJzZXR0aW5ncy5tb2RlbC5wbGFjZWhvbGRlclwiKSlcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWU6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb2RlbCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHQoXCJzZXR0aW5ncy5nZW1pbmlfYXBpX2tleS5uYW1lXCIpKVxyXG5cdFx0XHQuc2V0RGVzYyh0KFwic2V0dGluZ3MuZ2VtaW5pX2FwaV9rZXkuZGVzY1wiKSlcclxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XHJcblx0XHRcdFx0dGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKHQoXCJzZXR0aW5ncy5nZW1pbmlfYXBpX2tleS5wbGFjZWhvbGRlclwiKSlcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZW1pbmlBcGlLZXkpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2VtaW5pQXBpS2V5ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUodChcInNldHRpbmdzLnByb21wdF90ZW1wbGF0ZS5uYW1lXCIpKVxyXG5cdFx0XHQuc2V0RGVzYyh0KFwic2V0dGluZ3MucHJvbXB0X3RlbXBsYXRlLmRlc2NcIikpXHJcblx0XHRcdC5hZGRUZXh0QXJlYSgodGV4dCkgPT5cclxuXHRcdFx0XHR0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIodChcInNldHRpbmdzLnByb21wdF90ZW1wbGF0ZS5wbGFjZWhvbGRlclwiKSlcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9tcHRUZW1wbGF0ZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWU6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wcm9tcHRUZW1wbGF0ZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBtb21lbnQgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmltcG9ydCBlbiBmcm9tIFwic3JjL2xhbmd1YWdlcy9lbi5qc29uXCI7XHJcbmltcG9ydCBrbyBmcm9tIFwic3JjL2xhbmd1YWdlcy9rby5qc29uXCI7XHJcbmltcG9ydCBqYSBmcm9tIFwic3JjL2xhbmd1YWdlcy9qYS5qc29uXCI7XHJcblxyXG5jb25zdCB0cmFuc2xhdGlvbnM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0ge1xyXG5cdGVuOiBlbixcclxuXHRrbzoga28sXHJcblx0amE6IGphLFxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHQoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdGNvbnN0IGxhbmcgPSBtb21lbnQubG9jYWxlKCk7XHJcblx0Y29uc3QgdHJhbnNsYXRpb24gPVxyXG5cdFx0dHJhbnNsYXRpb25zW2xhbmddPy5ba2V5IGFzIGtleW9mIHR5cGVvZiBlbl0gfHxcclxuXHRcdGVuW2tleSBhcyBrZXlvZiB0eXBlb2YgZW5dIHx8XHJcblx0XHRrZXk7XHJcblx0cmV0dXJuIHRyYW5zbGF0aW9uO1xyXG59XHJcbiIsICJ7XHJcbiAgXCJvcmdhbml6ZXJfcGx1Z2luLmFjdGl2YXRlX3ZpZXdcIjogXCJPcGVuIE9yZ2FuaXplciBpbiBzaWRlYmFyXCIsXHJcbiAgXCJvcmdhbml6ZXJfcGx1Z2luLmxlYWZfaXNfbnVsbFwiOiBcIkNhbm5vdCBvcGVuIHNpZGViYXJcIixcclxuICBcIm9yZ2FuaXplcl92aWV3LmZpbGVfc2VsZWN0b3IudGl0bGVcIjogXCJTZWxlY3RlZCBGaWxlXCIsXHJcbiAgXCJvcmdhbml6ZXJfdmlldy5maWxlX3NlbGVjdG9yLnBsYWNlaG9sZGVyXCI6IFwiU2VsZWN0IGEgbm90ZSB0byByZW9yZ2FuaXplXCIsXHJcbiAgXCJvcmdhbml6ZXJfdmlldy5zZWxlY3RfY3VycmVudF9ub3RlXCI6IFwiU2VsZWN0IEN1cnJlbnQgTm90ZVwiLFxyXG4gIFwib3JnYW5pemVyX3ZpZXcuc3RhcnRfb3JnYW5pemluZ1wiOiBcIlJlb3JnYW5pemUgU2VsZWN0ZWQgTm90ZVwiLFxyXG4gIFwic2V0dGluZ3MudGl0bGVcIjogXCJQbHVnaW4gU2V0dGluZ3NcIixcclxuICBcInNldHRpbmdzLm1vZGVsLm5hbWVcIjogXCJNb2RlbFwiLFxyXG4gIFwic2V0dGluZ3MubW9kZWwuZGVzY1wiOiBcIkVudGVyIHRoZSBHZW1pbmkgbW9kZWwgdG8gdXNlXCIsXHJcbiAgXCJzZXR0aW5ncy5tb2RlbC5wbGFjZWhvbGRlclwiOiBcIkVudGVyIG1vZGVsIG5hbWVcIixcclxuICBcInNldHRpbmdzLmdlbWluaV9hcGlfa2V5Lm5hbWVcIjogXCJHZW1pbmkgQVBJIEtleVwiLFxyXG4gIFwic2V0dGluZ3MuZ2VtaW5pX2FwaV9rZXkuZGVzY1wiOiBcIkVudGVyIHlvdXIgR2VtaW5pIEFQSSBrZXlcIixcclxuICBcInNldHRpbmdzLmdlbWluaV9hcGlfa2V5LnBsYWNlaG9sZGVyXCI6IFwiRW50ZXIga2V5XCIsXHJcbiAgXCJzZXR0aW5ncy5wcm9tcHRfdGVtcGxhdGUubmFtZVwiOiBcIlByb21wdCBUZW1wbGF0ZVwiLFxyXG4gIFwic2V0dGluZ3MucHJvbXB0X3RlbXBsYXRlLmRlc2NcIjogXCJFbnRlciBwcm9tcHQgdGVtcGxhdGVcIixcclxuICBcInNldHRpbmdzLnByb21wdF90ZW1wbGF0ZS5wbGFjZWhvbGRlclwiOiBcIkVudGVyIHByb21wdFwiXHJcbn1cclxuIiwgIntcclxuICBcIm9yZ2FuaXplcl9wbHVnaW4uYWN0aXZhdGVfdmlld1wiOiBcIlx1QzBBQ1x1Qzc3NFx1QjREQ1x1QkMxNFx1QzVEMFx1QzExQyBPcmdhbml6ZXIgXHVDNUY0XHVBRTMwXCIsXHJcbiAgXCJvcmdhbml6ZXJfcGx1Z2luLmxlYWZfaXNfbnVsbFwiOiBcIlx1QzBBQ1x1Qzc3NFx1QjREQ1x1QkMxNFx1Qjk3QyBcdUM1RjQgXHVDMjE4IFx1QzVDNlx1QzJCNVx1QjJDOFx1QjJFNC5cIixcclxuICBcIm9yZ2FuaXplcl92aWV3LmZpbGVfc2VsZWN0b3IudGl0bGVcIjogXCJcdUMxMjBcdUQwRERcdUI0MUMgXHVEMzBDXHVDNzdDXCIsXHJcbiAgXCJvcmdhbml6ZXJfdmlldy5maWxlX3NlbGVjdG9yLnBsYWNlaG9sZGVyXCI6IFwiXHVDN0FDXHVBRDZDXHVDMTMxXHVENTYwIFx1QjE3OFx1RDJCOFx1Qjk3QyBcdUMxMjBcdUQwRERcdUQ1NThcdUMxMzhcdUM2OTRcIixcclxuICBcIm9yZ2FuaXplcl92aWV3LnNlbGVjdF9jdXJyZW50X25vdGVcIjogXCJcdUQ2MDRcdUM3QUMgXHVCMTc4XHVEMkI4IFx1QzEyMFx1RDBERFwiLFxyXG4gIFwib3JnYW5pemVyX3ZpZXcuc3RhcnRfb3JnYW5pemluZ1wiOiBcIlx1QzEyMFx1RDBERFx1QjQxQyBcdUIxNzhcdUQyQjggXHVDN0FDXHVBRDZDXHVDMTMxXCIsXHJcbiAgXCJzZXR0aW5ncy50aXRsZVwiOiBcIlx1RDUwQ1x1QjdFQ1x1QURGOFx1Qzc3OCBcdUMxMjRcdUM4MTVcIixcclxuICBcInNldHRpbmdzLm1vZGVsLm5hbWVcIjogXCJcdUJBQThcdUIzNzhcIixcclxuICBcInNldHRpbmdzLm1vZGVsLmRlc2NcIjogXCJcdUMwQUNcdUM2QTlcdUQ1NjAgR2VtaW5pIFx1QkFBOFx1QjM3OFx1Qzc0NCBcdUM3ODVcdUI4MjVcdUQ1NThcdUMxMzhcdUM2OTRcIixcclxuICBcInNldHRpbmdzLm1vZGVsLnBsYWNlaG9sZGVyXCI6IFwiXHVCQUE4XHVCMzc4IFx1Qzc3NFx1Qjk4NCBcdUM3ODVcdUI4MjVcIixcclxuICBcInNldHRpbmdzLmdlbWluaV9hcGlfa2V5Lm5hbWVcIjogXCJHZW1pbmkgQVBJIFx1RDBBNFwiLFxyXG4gIFwic2V0dGluZ3MuZ2VtaW5pX2FwaV9rZXkuZGVzY1wiOiBcIkdlbWluaSBBUEkgXHVEMEE0XHVCOTdDIFx1Qzc4NVx1QjgyNVx1RDU1OFx1QzEzOFx1QzY5NFwiLFxyXG4gIFwic2V0dGluZ3MuZ2VtaW5pX2FwaV9rZXkucGxhY2Vob2xkZXJcIjogXCJcdUQwQTQgXHVDNzg1XHVCODI1XCIsXHJcbiAgXCJzZXR0aW5ncy5wcm9tcHRfdGVtcGxhdGUubmFtZVwiOiBcIlx1RDUwNFx1Qjg2Q1x1RDUwNFx1RDJCOCBcdUQxNUNcdUQ1MENcdUI5QkZcIixcclxuICBcInNldHRpbmdzLnByb21wdF90ZW1wbGF0ZS5kZXNjXCI6IFwiXHVENTA0XHVCODZDXHVENTA0XHVEMkI4IFx1RDE1Q1x1RDUwQ1x1QjlCRlx1Qzc0NCBcdUM3ODVcdUI4MjVcdUQ1NThcdUMxMzhcdUM2OTRcIixcclxuICBcInNldHRpbmdzLnByb21wdF90ZW1wbGF0ZS5wbGFjZWhvbGRlclwiOiBcIlx1RDUwNFx1Qjg2Q1x1RDUwNFx1RDJCOCBcdUM3ODVcdUI4MjVcIlxyXG59XHJcbiIsICJ7XHJcbiAgXCJvcmdhbml6ZXJfcGx1Z2luLmFjdGl2YXRlX3ZpZXdcIjogXCJcdTMwQjVcdTMwQTRcdTMwQzlcdTMwRDBcdTMwRkNcdTMwNjdPcmdhbml6ZXJcdTMwOTJcdTk1OEJcdTMwNEZcIixcclxuICBcIm9yZ2FuaXplcl9wbHVnaW4ubGVhZl9pc19udWxsXCI6IFwiXHUzMEI1XHUzMEE0XHUzMEM5XHUzMEQwXHUzMEZDXHUzMDkyXHU5NThCXHUzMDUxXHUzMDdFXHUzMDVCXHUzMDkzXCIsXHJcbiAgXCJvcmdhbml6ZXJfdmlldy5maWxlX3NlbGVjdG9yLnRpdGxlXCI6IFwiXHU5MDc4XHU2MjlFXHUzMDU1XHUzMDhDXHUzMDVGXHUzMEQ1XHUzMEExXHUzMEE0XHUzMEVCXCIsXHJcbiAgXCJvcmdhbml6ZXJfdmlldy5maWxlX3NlbGVjdG9yLnBsYWNlaG9sZGVyXCI6IFwiXHU1MThEXHU2OUNCXHU2MjEwXHUzMDU5XHUzMDhCXHUzMENFXHUzMEZDXHUzMEM4XHUzMDkyXHU5MDc4XHU2MjlFXHUzMDU3XHUzMDY2XHUzMDRGXHUzMDYwXHUzMDU1XHUzMDQ0XCIsXHJcbiAgXCJvcmdhbml6ZXJfdmlldy5zZWxlY3RfY3VycmVudF9ub3RlXCI6IFwiXHU3M0ZFXHU1NzI4XHUzMDZFXHUzMENFXHUzMEZDXHUzMEM4XHUzMDkyXHU5MDc4XHU2MjlFXCIsXHJcbiAgXCJvcmdhbml6ZXJfdmlldy5zdGFydF9vcmdhbml6aW5nXCI6IFwiXHU5MDc4XHU2MjlFXHUzMDU3XHUzMDVGXHUzMENFXHUzMEZDXHUzMEM4XHUzMDkyXHU1MThEXHU2OUNCXHU2MjEwXCIsXHJcbiAgXCJzZXR0aW5ncy50aXRsZVwiOiBcIlx1MzBEN1x1MzBFOVx1MzBCMFx1MzBBNFx1MzBGM1x1OEEyRFx1NUI5QVwiLFxyXG4gIFwic2V0dGluZ3MubW9kZWwubmFtZVwiOiBcIlx1MzBFMlx1MzBDN1x1MzBFQlwiLFxyXG4gIFwic2V0dGluZ3MubW9kZWwuZGVzY1wiOiBcIlx1NEY3Rlx1NzUyOFx1MzA1OVx1MzA4QkdlbWluaVx1MzBFMlx1MzBDN1x1MzBFQlx1MzA5Mlx1NTE2NVx1NTI5Qlx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFwiLFxyXG4gIFwic2V0dGluZ3MubW9kZWwucGxhY2Vob2xkZXJcIjogXCJcdTMwRTJcdTMwQzdcdTMwRUJcdTU0MERcdTMwOTJcdTUxNjVcdTUyOUJcIixcclxuICBcInNldHRpbmdzLmdlbWluaV9hcGlfa2V5Lm5hbWVcIjogXCJHZW1pbmkgQVBJXHUzMEFEXHUzMEZDXCIsXHJcbiAgXCJzZXR0aW5ncy5nZW1pbmlfYXBpX2tleS5kZXNjXCI6IFwiR2VtaW5pIEFQSVx1MzBBRFx1MzBGQ1x1MzA5Mlx1NTE2NVx1NTI5Qlx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFwiLFxyXG4gIFwic2V0dGluZ3MuZ2VtaW5pX2FwaV9rZXkucGxhY2Vob2xkZXJcIjogXCJcdTMwQURcdTMwRkNcdTMwOTJcdTUxNjVcdTUyOUJcIixcclxuICBcInNldHRpbmdzLnByb21wdF90ZW1wbGF0ZS5uYW1lXCI6IFwiXHUzMEQ3XHUzMEVEXHUzMEYzXHUzMEQ3XHUzMEM4XHUzMEM2XHUzMEYzXHUzMEQ3XHUzMEVDXHUzMEZDXHUzMEM4XCIsXHJcbiAgXCJzZXR0aW5ncy5wcm9tcHRfdGVtcGxhdGUuZGVzY1wiOiBcIlx1MzBEN1x1MzBFRFx1MzBGM1x1MzBEN1x1MzBDOFx1MzBDNlx1MzBGM1x1MzBEN1x1MzBFQ1x1MzBGQ1x1MzBDOFx1MzA5Mlx1NTE2NVx1NTI5Qlx1MzA1N1x1MzA2Nlx1MzA0Rlx1MzA2MFx1MzA1NVx1MzA0NFwiLFxyXG4gIFwic2V0dGluZ3MucHJvbXB0X3RlbXBsYXRlLnBsYWNlaG9sZGVyXCI6IFwiXHUzMEQ3XHUzMEVEXHUzMEYzXHUzMEQ3XHUzMEM4XHUzMDkyXHU1MTY1XHU1MjlCXCJcclxufVxyXG4iLCAiaW1wb3J0IHtcclxuXHRJdGVtVmlldyxcclxuXHRXb3Jrc3BhY2VMZWFmLFxyXG5cdERyb3Bkb3duQ29tcG9uZW50LFxyXG5cdHNldEljb24sXHJcblx0c2V0VG9vbHRpcCxcclxuXHRFdmVudFJlZixcclxufSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgdCB9IGZyb20gXCJzcmMvaTE4blwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9PUkdBTklaRVIgPSBcIm9yZ2FuaXplci12aWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT3JnYW5pemVyVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcclxuXHRpY29uID0gXCJzcGFya2xlc1wiO1xyXG5cdGZpbGVTZWxlY3REcm9wZG93bjogRHJvcGRvd25Db21wb25lbnQgfCB1bmRlZmluZWQ7XHJcblx0dmF1bHRFdmVudFJlZnM6IEV2ZW50UmVmW10gPSBbXTtcclxuXHJcblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZikge1xyXG5cdFx0c3VwZXIobGVhZik7XHJcblx0fVxyXG5cclxuXHRnZXRWaWV3VHlwZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFZJRVdfVFlQRV9PUkdBTklaRVI7XHJcblx0fVxyXG5cclxuXHRnZXREaXNwbGF5VGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwiT3JnYW5pemVyXCI7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbk9wZW4oKSB7XHJcblx0XHR0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdLmFkZENsYXNzKFwibm8tcGFkZGluZ1wiKTtcclxuXHRcdGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY2hpbGRyZW5bMV07XHJcblx0XHRjb250YWluZXIuZW1wdHkoKTtcclxuXHJcblx0XHRjb25zdCBuYXZIZWFkZXIgPSBjb250YWluZXIuY3JlYXRlRGl2KHtcclxuXHRcdFx0Y2xzOiBcIm5hdi1oZWFkZXJcIixcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IG5hdkJ1dHRvbnNDb250YWluZXIgPSBuYXZIZWFkZXIuY3JlYXRlRGl2KHtcclxuXHRcdFx0Y2xzOiBcIm5hdi1idXR0b25zLWNvbnRhaW5lclwiLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgbG9jYXRlQnV0dG9uID0gbmF2QnV0dG9uc0NvbnRhaW5lci5jcmVhdGVEaXYoe1xyXG5cdFx0XHRjbHM6IFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIixcclxuXHRcdH0pO1xyXG5cdFx0c2V0SWNvbihsb2NhdGVCdXR0b24sIFwibG9jYXRlLWZpeGVkXCIpO1xyXG5cdFx0c2V0VG9vbHRpcChsb2NhdGVCdXR0b24sIHQoXCJvcmdhbml6ZXJfdmlldy5zZWxlY3RfY3VycmVudF9ub3RlXCIpKTtcclxuXHRcdGxvY2F0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnNlbGVjdEN1cnJlbnROb3RlKCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBwbGF5QnV0dG9uID0gbmF2QnV0dG9uc0NvbnRhaW5lci5jcmVhdGVEaXYoe1xyXG5cdFx0XHRjbHM6IFwiY2xpY2thYmxlLWljb24gbmF2LWFjdGlvbi1idXR0b25cIixcclxuXHRcdH0pO1xyXG5cdFx0c2V0SWNvbihwbGF5QnV0dG9uLCBcInBsYXlcIik7XHJcblx0XHRzZXRUb29sdGlwKHBsYXlCdXR0b24sIHQoXCJvcmdhbml6ZXJfdmlldy5zdGFydF9vcmdhbml6aW5nXCIpKTtcclxuXHJcblx0XHRjb25zdCBpbnB1dENvbnRhaW5lciA9IG5hdkhlYWRlci5jcmVhdGVEaXYoe1xyXG5cdFx0XHRjbHM6IFwiZmlsZS1zZWxlY3Rpb24tY29udGFpbmVyXCIsXHJcblx0XHR9KTtcclxuXHRcdGNvbnN0IGZpbGVTZWxlY3REcm9wZG93biA9IG5ldyBEcm9wZG93bkNvbXBvbmVudChpbnB1dENvbnRhaW5lcik7XHJcblx0XHR0aGlzLmZpbGVTZWxlY3REcm9wZG93biA9IGZpbGVTZWxlY3REcm9wZG93bjtcclxuXHRcdGZpbGVTZWxlY3REcm9wZG93bi5zZWxlY3RFbC5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG5cclxuXHRcdHRoaXMudXBkYXRlRmlsZUxpc3QoKTtcclxuXHJcblx0XHQvLyBcdUJDRkNcdUQyQjggXHVDNzc0XHVCQ0E0XHVEMkI4IFx1QjRGMVx1Qjg1RFxyXG5cdFx0dGhpcy52YXVsdEV2ZW50UmVmcy5wdXNoKFxyXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5vbihcImNyZWF0ZVwiLCAoKSA9PiB0aGlzLnVwZGF0ZUZpbGVMaXN0KCkpLFxyXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5vbihcImRlbGV0ZVwiLCAoKSA9PiB0aGlzLnVwZGF0ZUZpbGVMaXN0KCkpLFxyXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5vbihcInJlbmFtZVwiLCAoKSA9PiB0aGlzLnVwZGF0ZUZpbGVMaXN0KCkpXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgb25DbG9zZSgpIHtcclxuXHRcdC8vIFx1Qzc3NFx1QkNBNFx1RDJCOCBcdUM4MTVcdUI5QUNcclxuXHRcdHRoaXMudmF1bHRFdmVudFJlZnMuZm9yRWFjaCgocmVmKSA9PiB0aGlzLmFwcC52YXVsdC5vZmZyZWYocmVmKSk7XHJcblx0XHR0aGlzLnZhdWx0RXZlbnRSZWZzID0gW107XHJcblx0fVxyXG5cclxuXHR1cGRhdGVGaWxlTGlzdCgpIHtcclxuXHRcdGlmICghdGhpcy5maWxlU2VsZWN0RHJvcGRvd24pIHJldHVybjtcclxuXHJcblx0XHQvLyBcdUQ2MDRcdUM3QUMgXHVDMTIwXHVEMEREXHVCNDFDIFx1RDMwQ1x1Qzc3QyBcdUFDQkRcdUI4NUMgXHVDODAwXHVDN0E1XHJcblx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLmZpbGVTZWxlY3REcm9wZG93bi5nZXRWYWx1ZSgpO1xyXG5cclxuXHRcdC8vIFx1QjREQ1x1Qjg2RFx1QjJFNFx1QzZCNCBcdUNEMDhcdUFFMzBcdUQ2NTRcclxuXHRcdHRoaXMuZmlsZVNlbGVjdERyb3Bkb3duLnNlbGVjdEVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Ly8gcGxhY2Vob2xkZXIgXHVDRDk0XHVBQzAwXHJcblx0XHR0aGlzLmZpbGVTZWxlY3REcm9wZG93bi5hZGRPcHRpb24oXHJcblx0XHRcdFwiXCIsXHJcblx0XHRcdHQoXCJvcmdhbml6ZXJfdmlldy5maWxlX3NlbGVjdG9yLnBsYWNlaG9sZGVyXCIpXHJcblx0XHQpO1xyXG5cclxuXHRcdC8vIFx1RDMwQ1x1Qzc3QyBcdUJBQTlcdUI4NUQgXHVDRDk0XHVBQzAwXHJcblx0XHRjb25zdCBtYXJrZG93bkZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG5cdFx0bWFya2Rvd25GaWxlcy5mb3JFYWNoKChmaWxlKSA9PiB7XHJcblx0XHRcdHRoaXMuZmlsZVNlbGVjdERyb3Bkb3duPy5hZGRPcHRpb24oZmlsZS5wYXRoLCBmaWxlLmJhc2VuYW1lKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1Qzc3NFx1QzgwNFx1QzVEMCBcdUMxMjBcdUQwRERcdUI0MUMgXHVEMzBDXHVDNzdDXHVDNzc0IFx1QzVFQ1x1QzgwNFx1RDc4OCBcdUM4NzRcdUM3QUNcdUQ1NThcdUIyOTRcdUM5QzAgXHVENjU1XHVDNzc4XHJcblx0XHRjb25zdCBmaWxlRXhpc3RzID0gbWFya2Rvd25GaWxlcy5zb21lKFxyXG5cdFx0XHQoZmlsZSkgPT4gZmlsZS5wYXRoID09PSBjdXJyZW50VmFsdWVcclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gXHVEMzBDXHVDNzdDXHVDNzc0IFx1Qzg3NFx1QzdBQ1x1RDU1OFx1QkE3NCBcdUM3NzRcdUM4MDQgXHVDMTIwXHVEMEREIFx1QzcyMFx1QzlDMCwgXHVDNTQ0XHVCMkM4XHVCQTc0IHBsYWNlaG9sZGVyIFx1QzEyMFx1RDBERFxyXG5cdFx0dGhpcy5maWxlU2VsZWN0RHJvcGRvd24uc2V0VmFsdWUoZmlsZUV4aXN0cyA/IGN1cnJlbnRWYWx1ZSA6IFwiXCIpO1xyXG5cdH1cclxuXHJcblx0c2VsZWN0Q3VycmVudE5vdGUoKSB7XHJcblx0XHRjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHRcdGlmIChhY3RpdmVGaWxlKSB7XHJcblx0XHRcdHRoaXMuZmlsZVNlbGVjdERyb3Bkb3duPy5zZXRWYWx1ZShhY3RpdmVGaWxlLnBhdGgpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUFtRTs7O0FDQW5FLElBQUFDLG1CQUErQzs7O0FDQS9DLHNCQUF1Qjs7O0FDQXZCO0FBQUEsRUFDRSxrQ0FBa0M7QUFBQSxFQUNsQyxpQ0FBaUM7QUFBQSxFQUNqQyxzQ0FBc0M7QUFBQSxFQUN0Qyw0Q0FBNEM7QUFBQSxFQUM1QyxzQ0FBc0M7QUFBQSxFQUN0QyxtQ0FBbUM7QUFBQSxFQUNuQyxrQkFBa0I7QUFBQSxFQUNsQix1QkFBdUI7QUFBQSxFQUN2Qix1QkFBdUI7QUFBQSxFQUN2Qiw4QkFBOEI7QUFBQSxFQUM5QixnQ0FBZ0M7QUFBQSxFQUNoQyxnQ0FBZ0M7QUFBQSxFQUNoQyx1Q0FBdUM7QUFBQSxFQUN2QyxpQ0FBaUM7QUFBQSxFQUNqQyxpQ0FBaUM7QUFBQSxFQUNqQyx3Q0FBd0M7QUFDMUM7OztBQ2pCQTtBQUFBLEVBQ0Usa0NBQWtDO0FBQUEsRUFDbEMsaUNBQWlDO0FBQUEsRUFDakMsc0NBQXNDO0FBQUEsRUFDdEMsNENBQTRDO0FBQUEsRUFDNUMsc0NBQXNDO0FBQUEsRUFDdEMsbUNBQW1DO0FBQUEsRUFDbkMsa0JBQWtCO0FBQUEsRUFDbEIsdUJBQXVCO0FBQUEsRUFDdkIsdUJBQXVCO0FBQUEsRUFDdkIsOEJBQThCO0FBQUEsRUFDOUIsZ0NBQWdDO0FBQUEsRUFDaEMsZ0NBQWdDO0FBQUEsRUFDaEMsdUNBQXVDO0FBQUEsRUFDdkMsaUNBQWlDO0FBQUEsRUFDakMsaUNBQWlDO0FBQUEsRUFDakMsd0NBQXdDO0FBQzFDOzs7QUNqQkE7QUFBQSxFQUNFLGtDQUFrQztBQUFBLEVBQ2xDLGlDQUFpQztBQUFBLEVBQ2pDLHNDQUFzQztBQUFBLEVBQ3RDLDRDQUE0QztBQUFBLEVBQzVDLHNDQUFzQztBQUFBLEVBQ3RDLG1DQUFtQztB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
